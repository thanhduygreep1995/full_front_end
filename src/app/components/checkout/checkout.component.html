<!-- ---- BreadCrum ----- -->
<div class="container py-4 flex justify-between ">
     <div class="flex gap-3 items-center ">
          <a href="index.html" class="text-primary text-base">
               <i class="fas fa-home"></i>
          </a>
          <span class="text-sm text-gray-500 ">
               <i class="fas fa-chevron-right"></i>
          </span>
          <p class="text-gray-500 font-medium uppercase">Checkout </p>
     </div>

</div>
<!-- ---- End BreadCrum --->

<!-- ---- Checkout Wrapper--->

<div class="container lg:grid grid-cols-12 gap-6 items-start pb-16 pt-4 ">
     <!-- ---- Checkout Form--->
     <div class="lg:col-span-8 border border-gray-300 px-4 py-4 rounded bg-gray-100">
          <form method="" action="" #frm1="ngForm">
               <h3 class="text-lg font-medium capitalize mb-4"> Checkout </h3>

               <div class="space-y-4">
                    <div class="space-y-4">
                         <div>
                              <label class="text-gray-600 mb-2 block">Full Name <span class="text-primary">*</span>
                              </label>
                              <input [(ngModel)]="name" name="n" minlength="6" type="text" placeholder="Enter Name"
                                   class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                              dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary" />
                         </div>
                    </div>

                    <!-- ----Single Input --->
                    <div class="space-y-4">
                         <div>
                              <label class="text-gray-600 mb-2 block">Street Address <span class="text-primary">*</span>
                              </label>
                              <input [(ngModel)]="address" name="ad" type="text" placeholder="Enter number, street"
                                   class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                             dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary" />
                         </div>
                    </div>
                    <div class="space-y-4 mt-4">
                         <div class="flex space-x-4" >
                              <div class="flex-1">
                                   <select id="city" [(ngModel)]="city" name="city" (change)="onCityChange()"
                                        class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                         dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary">
                                         <option selected value="0">Select Provices</option>
                                         <option *ngFor="let city of cities" [value]="city.Id">{{ city.Name }}</option>
                                   </select>
                              </div>
     
                              <div class="flex-1">
                                   <select id="district" [(ngModel)]="district" name="district" (change)="onDistrictChange()"
                                        class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                         dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary">
                                        <option selected value="0">Select District</option>
                                        <option *ngFor="let district of districts" [value]="district.Id">{{ district.Name }}
                                        </option>
                                   </select>
                              </div>
     
                              <div class="flex-1">
                                   <select id="ward" [(ngModel)]="ward" name="ward" 
                                        class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                         dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary">
                                        <option value="0" selected>Select Ward</option>
                                        <option *ngFor="let ward of wards" [value]="ward.Id">{{ ward.Name }}</option>
                                   </select>
                              </div>
                         </div>
                    </div>
                    <!-- ---- End Single Input--->

                    <!-- ----Single Input --->
                    <div class="space-y-4">
                         <div>
                              <label class="text-gray-600 mb-2 block">Phone Number <span class="text-primary">*</span>
                              </label>
                              <input [(ngModel)]="phone" name="ph" type="text" placeholder="Enter Phone Number"
                                   class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                             dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary" />
                         </div>
                    </div>
                    <!-- ---- End Single Input--->


                    <!-- ----Single Input --->
                    <div class="space-y-4">
                         <div>
                              <label class="text-gray-600 mb-2 block">Email Address <span class="text-primary">*</span>
                              </label>
                              <input [(ngModel)]="email" name="em" type="email" placeholder="Enter Email Address"
                                   class="input-box bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5 
                                             dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary" />
                         </div>
                    </div>
                    <div class="space-y-4 mt-2">
                         <div>
                              <label class="text-gray-600 mb-2 block">Payment Method <span
                                        class="text-primary">*</span></label>
                              <div class="flex items-center">
                                   <input id="creditCard" type="radio" [(ngModel)]="paymentMethod" name="paymentMethod" value="Cash"
                                        class="h-4 w-4 text-indigo-600 focus:ring-primary border-gray-300">
                                   <label for="creditCard" class="ml-2 text-gray-700 cursor-pointer flex items-center">
                                        <img src="../assets/images/cod.png" alt="Cash Image" class="w-6 h-6 ml-2">
                                        <span class="ml-2">Pay in cash</span>
                                   </label>
                              </div>
                              <div class="flex items-center">
                                   <input id="vnPay" type="radio" [(ngModel)]="paymentMethod" name="paymentMethod" value="VnPay"
                                        class="h-4 w-4 text-indigo-600 focus:ring-primary border-gray-300">
                                   <label for="vnPay" class="ml-2 text-gray-700 cursor-pointer flex items-center">
                                        <img src="../assets/images/vnpay.png" alt="VnPay Image" class="w-6 h-6 ml-2">
                                        <span class="ml-2">VnPay</span>
                                   </label>
                              </div>
                         </div>
                    </div>
                    <!-- ---- End Single Input--->
               </div>
          </form>
          <div *ngIf="loading"
               class="fixed top-0 left-0 w-screen h-screen bg-gray-900 bg-opacity-50 flex items-center justify-center z-50">
               <div class="animate-spin rounded-full h-32 w-32 border-t-2 border-primary"></div>
          </div>
     </div>
     <!-- ---- End Checkout Form--->


     <!-- ---- Order Summary --->

     <div class="lg:col-span-4 border border-gray-300 px-4 py-4 rounded mt-6 lg:mt-0 bg-gray-100 ">
          <div class="flex items-center md:justify-between gap-4 md:gap-6 p-4 border border-gray-200 rounded flex-wrap md:flex-nowrap bg-white "
          *ngFor="let item of  cartItems">
          <div class="w-16 flex-shrink-0" >
               <img src="{{item.images}}" class="w-full" />
          </div>

          <div class="md:w-1/3 w-full ">
               <h2 class="text-gray-800 mb-3 :text-sm text-sm font-medium uppercase">{{item.model}} </h2>
          </div>


          <div class="flex border border-gray-300 text-gray-600 divide-x divide-gray-300 w-max ">

               <div class="h-6 w-8 flex items-center justify-center text-sm"> {{item.soluong}} </div>


          </div>


          <div class="ml-auto md:ml-0">
               <p class="text-primary text-sm font-semibold ">{{item.tongTien |currency:".":"":"1.0"}} VNĐ </p>
          </div>


     </div>
     <div class="lg:col-span-2">
     <div class="flex justify-between my-3 text-gray-800 font-semibold uppercase">
          <h4>Total:</h4>
          <h4>{{ tt | currency:".":"":"1.0"}} VNĐ</h4>
     
     </div>
     <!-- Coupon  -->
     <form [formGroup]="formCoupon" class="flex mb-4" style="margin-top: 10px;">
     
          <input type="text"  formControlName="codeVoucher"
               class="pl-4 w-full border border-r-0 border-primary py-2 px-3 rounded-l-md focus:ring-primary focus:border-primary text-sm "
               placeholder="Coupon" />
     
          <button type="submit" (click)="discount()"
               class="bg-primary border border-primary text-white px-5 font-medium rounded-r-md hover\:bg-transparent hover\:text-primary transition text-sm w-full block text-center ">Apply</button>
     
     </form>
     <!-- ---- End Coupon--->
     <a (click)="taodonhang();placeOrder();processPayment()" 
          class="bg-primary border border-primary text-white px-4 py-3 font-medium rounded-md uppercase hover:bg-transparent hover:text-primary transition text-sm w-full block text-center ">
          Place Order
     </a>
     
     </div>
     </div>

     <!-- ---- End Order Summary--->







</div>



<!-- ---- End Checkout Wrapper --->